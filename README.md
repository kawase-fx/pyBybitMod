# pyBybitMod

### ざっくりいうと

https://gist.github.com/MtkN1/50923f4366c3390a1cf4310f77ea7440 をフォークして修正した版

### クラスファイル

https://raw.githubusercontent.com/kawase-fx/pyBybitMod/main/pybybitMod.py

#### 必要パッケージのインストール

`pip install -U -r requiredPackages`

### サンプル

#### APIキーファイルの準備
ファイルの名前は何でもいいです。
2行のテキストファイルを準備します。
* 1行目はAPIキー
* 2行目はAPIシークレット
* 3行目はテストネットかどうか
* 4行目は商品(BTCUSDとか)
を書き込んでおきます。

test-netの利用は、それ用のサイトでAPIキーを作る必要があります。

#### 起動
$ python example.py APIキーファイル名

### 改変箇所

* 文字列定数をクラス化

  RESTエントリーポイントのところが気に入らないが、ロジック側の書きやすさは上がった。

* タイムスタンプ関係

  共通処理化と、RESTコールの時は誤差を許容するように。WSの認証時はジャストで時間を取るようにした。

* WSチャンネル名

  古くなってたので最新のに合わせた。

* RESTエントリポイント追加

  というよりV2の一部APIを動くようにして、古いやつは捨てた。

* VSCodeで編集しやすいよう（俺視点）インデント変更

### その他

使いそうな場所だけテストしたので、ほかでエラーが出たり矛盾しててもしりませんが、言ってくれたら対応するかもです。
